<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Room</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <link rel='stylesheet' type='text/css' media='screen' href='lobby.css'>
</head>
<body>

        <header id="nav">
       <div class="nav--list">
            <a href="lobby.html"/>
                <h3 id="logo">
                    <img src="" alt="Site Logo">
                    <span>Mumble</span>
                </h3>
            </a>
       </div>

        <div id="nav__links">
            <a class="nav__link" href="/">
                Lobby
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#ede0e0" viewBox="0 0 24 24"><path d="M20 7.093v-5.093h-3v2.093l3 3zm4 5.907l-12-12-12 12h3v10h7v-5h4v5h7v-10h3zm-5 8h-3v-5h-8v5h-3v-10.26l7-6.912 7 6.99v10.182z"/></svg>
            </a>
            <a class="nav__link" id="create__room__btn" href="lobby.html">
                Create Room
               <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#ede0e0" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-5v5h-2v-5h-5v-2h5v-5h2v5h5v2z"/></svg>
            </a>
        </div>
    </header>

    <main id="room__lobby__container">

        <div class="btn__container">
            <div class="btn btn1 active" onclick="handleclick1()">New Meeting</div>
            <div class="btn btn2" onclick="handleclick2()">Join with a code</div>
        </div>


        <div id="form__container">
             <div id="form__container__header">
                 <p>ðŸ‘‹ Create or Join Room</p>
             </div>
 
 
            <form id="lobby__form" class="form1" action="/<%= Id %>" >
 
                 <div class="form__field__wrapper">
                     <label>Your Name</label>
                     <input type="text" name="name" required placeholder="Enter your display name..." />
                 </div>
 
                 <!-- <div class="form__field__wrapper room" style="display: none;">
                     <label>Room Name</label>
                     <input type="text" name="room" placeholder="Enter room name..." />
                 </div> -->
 
                 <div class="form__field__wrapper">
                     <button type="submit">Go to Room 
                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"/></svg>
                    </button>
                 </div>
            </form>

            <form id="lobby__form" class="form2"  style="display: none;"  >
 
                <div class="form__field__wrapper">
                    <label>Your Name</label>
                    <input type="text" name="name" class="name1" required placeholder="Enter your display name..." />
                </div>

                <div class="form__field__wrapper"  >
                    <label>Room Name</label>
                    <input type="text" name="room" class="room1" required placeholder="Enter room name..." />
                </div>

                <div class="form__field__wrapper">
                    <button type="submit">Go to Room 
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"/></svg>
                   </button>
                </div>
           </form>
        </div>
     </main>
     <script>
        const create = document.querySelector(".btn1");
        const join = document.querySelector(".btn2");
  
        const form1 = document.querySelector(".form1");
        const form2 = document.querySelector(".form2");

        const handleclick1 = () => {
            create.classList.add("active");
            join.classList.remove("active");
            form1.style.display = "block";
            form2.style.display = "none";
        }

        const handleclick2 = () => {
            create.classList.remove("active");
            join.classList.add("active");
            form1.style.display = "none";
            form2.style.display = "block";
        }

       
        const roomName = document.querySelector('.room1');
        const name = document.querySelector(".name1");
        const handleSubmit = (e) => {
            e.preventDefault();
            window.location = `/${roomName.value}?name=${name.value}`;
        }
    
        form2.addEventListener("submit", handleSubmit);

       
     </script>
     <script type="text/javascript" src="lobby.js"></script>
</body>
</html>